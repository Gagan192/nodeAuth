extends layout


block content
  div(id="mySidenav" class="sidenav" style="background-color:white")
    ol(id="messages1" style="height: 79vh; overflow: auto")
      each val in retrieveMessages
        if val.ImpTag
          li(id=val._id style="list-style:none" class="impMessageStyle")
            div.card
              div.card-header
                b
                  i=val.authName + ' '
                span= val.date
              div.card-body
                p.card-text=val.message


  div(class="modal fade" id="myModal" role="dialog")
   div(class="modal-dialog")
     div(class="modal-content")
       div(class="modal-header")
         h4(class="modal-title") Todays ProBlem
         button(type="button" class="close" data-dismiss="modal") &times;
       div(class="modal-body")
         p #{question.problem}
       div(class="modal-footer")
         button(type="button" class="btn btn-default" data-dismiss="modal") Close

  div(id="main" class="container")
    ol(id="messages" style="height: 79vh; overflow: auto")
      each val in retrieveMessages
        li(id=val._id style="list-style:none" class="impMessageStyle")
          div.card
            div.card-header
              b
                i=val.authName + ' '
              span= val.date
            div.card-body
              p.card-text=val.message

  |  <script id="message-template" type="text/template">
  |    <li style="list-style:none" class="impMessageStyle">
  |      <div class="card">
  |        <div class="card-header">
  |      <b><i>{{from}}</i></b>
  |      <span>{{createdAt}}</span>
  |      </div>
  |      <div class="card-body">
  |        <p class="card-text">{{text}}</p>
  |      </div>
  |     </div>
  |    </li>
  |  </script>
  |    <script src="socket.io/socket.io.js"></script>
  |    <script src="/../javascripts/libs/jquery-3.3.1.min.js"></script>
  |    <script src="/../javascripts/libs/moment.js"></script>
  |    <script src="/../javascripts/libs/mustache.js"></script>
  |    <script src="/../javascripts/libs/deparam.js"></script>
  |    <script src="/../javascripts/chat.js"></script>
  |   <script>localStorage.setItem("token", "#{token}");
  |           localStorage.setItem("question", "#{question._id}");</script>

block footer

     .container.fixed-bottom(style="background-color:white")
        form(id="message-form")
         div(class="input-group")
           input(name="message" type="text" class="form-control" autofocus autocomplete="off" placeholder="Type Your Message...")
           div(class="input-group-btn")
             button(class="btn btn-outline-secondary submitbutton"  name="Normal" type="submit") Send
             button(class="btn btn-outline-secondary submitbutton"  name="Important" type="submit") Mark
